<!DOCTYPE html>
<html>
  <head>
    <meta name="google-adsense-account" content="ca-pub-6213603518465024">
    <!-- Place this inside the <head> tag -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6213603518465024"
      crossorigin="anonymous"></script>
    <link rel="icon" href="https://cdn.glitch.global/d52a6415-826b-4b02-82db-e300df7a8506/Logo?v=1747925805307" type="image/png" />
    <title>Animal Company Item Maker Stash</title>

    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        padding: 20px;
        background: linear-gradient(135deg, #f9ece3, #f0d8c0);
        color: #6b4c3b;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .dark-mode {
        background: linear-gradient(135deg, #5c4438, #8a6e5a);
        color: #f0e5d8;
      }

      .dark-mode input,
      .dark-mode select,
      .dark-mode textarea {
        background-color: #7a6450;
        color: #f0e5d8;
        border: 1px solid #c9ad8e;
      }

      h1, h3 {
        font-weight: 700;
        letter-spacing: 1.2px;
        color: #a67856;
        text-shadow: 1px 1px 3px rgba(167, 120, 86, 0.6);
      }

      .dark-mode h1,
      .dark-mode h3 {
        color: #e9d7c1;
        text-shadow: 1px 1px 4px #b28e6a;
      }

      .slot-container {
        border: 2px solid #cbb092;
        padding: 18px;
        margin-bottom: 22px;
        background-color: #fff6ee;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(203, 176, 146, 0.25);
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .dark-mode .slot-container {
        background-color: #7a6450;
        border-color: #bfa77a;
        box-shadow: 0 0 15px #d4c1a788;
      }

      label {
        display: block;
        margin: 10px 0 6px;
        color: inherit;
        font-weight: 600;
      }

      input,
      select {
        padding: 8px 10px;
        width: 100%;
        max-width: 320px;
        margin-bottom: 8px;
        border: 1.5px solid #bfa77a;
        border-radius: 6px;
        font-size: 14px;
        transition: border-color 0.2s ease;
      }

      input:focus,
      select:focus {
        border-color: #a67856;
        outline: none;
      }

      textarea {
        width: 100%;
        height: 280px;
        padding: 12px;
        font-family: monospace;
        font-size: 14px;
        border: 1.5px solid #bfa77a;
        border-radius: 6px;
        background-color: #fff2e6;
        color: #6b4c3b;
        resize: vertical;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .dark-mode textarea {
        background-color: #7a6450;
        color: #e9d7c1;
      }

      button {
        padding: 10px 18px;
        margin-right: 12px;
        margin-top: 14px;
        cursor: pointer;
        background-color: #a67856;
        color: #fff;
        border: none;
        border-radius: 6px;
        font-weight: 700;
        box-shadow: 0 4px 8px rgba(166, 120, 86, 0.4);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
      }

      button:hover {
        background-color: #7a5633;
        box-shadow: 0 6px 12px rgba(122, 86, 51, 0.6);
      }

      .remove-btn {
        background-color: #d26b4d;
        box-shadow: 0 3px 7px rgba(210, 107, 77, 0.5);
      }

      .remove-btn:hover {
        background-color: #a34c37;
        box-shadow: 0 5px 11px rgba(163, 76, 55, 0.7);
      }

      .color-preview {
        display: inline-block;
        width: 26px;
        height: 26px;
        border: 1.5px solid #a67856;
        margin-left: 12px;
        vertical-align: middle;
        border-radius: 6px;
        box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
        transition: border-color 0.3s ease;
      }

      #modeToggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: #a67856;
        box-shadow: 0 3px 8px rgba(166, 120, 86, 0.6);
      }

      #modeToggle:hover {
        background-color: #7a5633;
        box-shadow: 0 5px 12px rgba(122, 86, 51, 0.8);
      }

      .child-block {
        border-left: 3px solid #bfa77a;
        padding-left: 18px;
        margin-top: 14px;
        transition: border-color 0.3s ease;
      }

      .dark-mode .child-block {
        border-color: #e9d7c1;
      }
    </style>
  </head>
  <body>
    <h2>Inventory Builder</h2>

    <div id="mainItemsContainer"></div>
    <button id="addMainItemBtn">+ Add Main Item (max 5)</button>

    <button style="width: 100%; margin-top: 15px;" onclick="generateJSON()">Generate JSON</button>

    <h3>Generated JSON:</h3>
    <pre id="jsonOutput"></pre>

    <script>
      const itemIDs = [
        "None",
        "item_anti_gravity_grenade",
        "item_apple",
        "item_arrow",
        "item_arrow_heart",
        "item_arrow_lightbulb",
        "item_backpack",
        "item_backpack_black",
        "item_backpack_green",
        "item_backpack_large_base",
        "item_backpack_large_basketball",
        "item_backpack_large_clover",
        "item_backpack_pink",
        "item_backpack_small_base",
        "item_backpack_white",
        "item_backpack_with_flashlight",
        "item_balloon",
        "item_balloon_heart",
        "item_banana",
        "item_baseball_bat",
        "item_big_cup",
        "item_boombox",
        "item_boombox_neon",
        "item_box_fan",
        "item_calculator",
        "item_cardboard_box",
        "item_cash",
        "item_cash_mega_pile",
        "item_cash_pile",
        "item_clapper",
        "item_cluster_grenade",
        "item_cola",
        "item_cola_large",
        "item_company_ration",
        "item_company_ration_heal",
        "item_cracker",
        "item_crate",
        "item_crossbow",
        "item_crossbow_heart",
        "item_crowbar",
        "item_disc",
        "item_disposable_camera",
        "item_dynamite",
        "item_dynamite_cube",
        "item_egg",
        "item_flaregun",
        "item_flashbang",
        "item_flashlight",
        "item_flashlight_mega",
        "item_flashlight_red",
        "item_floppy3",
        "item_floppy5",
        "item_football",
        "item_frying_pan",
        "item_glowstick",
        "item_goldbar",
        "item_grenade",
        "item_heart_chunk",
        "item_heart_gun",
        "item_heartchocolatebox",
        "item_hh_key",
        "item_hookshot",
        "item_hoverpad",
        "item_impulse_grenade",
        "item_jetpack",
        "item_keycard",
        "item_lance",
        "item_large_banana",
        "item_laptop",
        "item_laptop_dog",
        "item_laptop_nyan",
        "item_laptop_rust",
        "item_laptop_silent",
        "item_laptop_valkyrie",
        "item_laptop_vaporwave",
        "item_magic_boomerang",
        "item_meat",
        "item_medkit",
        "item_mini_banana",
        "item_mini_fish",
        "item_mini_knife",
        "item_mini_meat",
        "item_mini_pizza",
        "item_mini_sword",
        "item_mini_tank",
        "item_molotov",
        "item_money",
        "item_money_bag",
        "item_money_bag_larger",
        "item_money_bag_pile",
        "item_money_bag_tiny",
        "item_money_bag_tiny_stack",
        "item_money_bag_tiny_stack_large",
        "item_money_bag_tiny_stack_tiny",
        "item_money_bag_tiny_tiny",
        "item_money_coin",
        "item_money_pile",
        "item_money_stack",
        "item_money_tiny",
        "item_money_tiny_stack",
        "item_money_tiny_stack_large",
        "item_money_tiny_stack_tiny",
        "item_money_tiny_tiny",
        "item_pizza",
        "item_plasma_rifle",
        "item_poison_grenade",
        "item_potion",
        "item_radar",
        "item_rifle",
        "item_rifle_heart",
        "item_rifle_laser",
        "item_rifle_suppressor",
        "item_rifle_tactical",
        "item_rocket_launcher",
        "item_rocket_launcher_splash",
        "item_rocket_launcher_tactical",
        "item_rust_bucket",
        "item_rust_bucket_black",
        "item_rust_bucket_blue",
        "item_rust_bucket_red",
        "item_rust_bucket_yellow",
        "item_rust_bucket_yellow_helmet",
        "item_rust_forklift",
        "item_rust_knife",
        "item_rust_machete",
        "item_rust_pot",
        "item_rust_revolver",
        "item_rust_rifle",
        "item_rust_rifle_iron_sight",
        "item_rust_rifle_scope",
        "item_rust_shovel",
        "item_rust_shovel_long",
        "item_rust_sledgehammer",
        "item_rust_sledgehammer_sparks",
        "item_rust_spiked_bat",
        "item_rust_spear",
        "item_rust_wood_pile",
        "item_rust_wooden_board",
        "item_screwdriver",
        "item_shuriken",
        "item_sledgehammer",
        "item_smoke_grenade",
        "item_soda",
        "item_soda_cola",
        "item_soda_rocket",
        "item_soda_sprite",
        "item_soda_tonic",
        "item_soda_water",
        "item_soda_water_bottle",
        "item_spiky_ball",
        "item_spiky_ball_big",
        "item_spiky_ball_small",
        "item_tennis_ball",
        "item_torch",
        "item_toy_rifle",
        "item_toy_rifle_heart",
        "item_toy_sword",
        "item_trap",
        "item_turkey_leg",
        "item_vodka",
        "item_vodka_bottle",
        "item_water_bottle",
        "item_water_gun",
        "item_wooden_box",
        "item_wooden_box_locked",
        "item_wooden_crate",
        "item_wooden_log",
        "item_wooden_plank",
        "item_wooden_stick",
        "item_wooden_stick_broken",
        "item_wooden_stick_long",
        "item_wooden_stick_short",
        "item_wooden_sword",
        "item_yoyo",
      ];

      // Helper to create select dropdown for items
      function createItemSelect(selectedValue = "None") {
        const select = document.createElement("select");
        for (const itemId of itemIDs) {
          const option = document.createElement("option");
          option.value = itemId;
          option.textContent = itemId;
          select.appendChild(option);
        }
        select.value = selectedValue;
        return select;
      }

      const mainItemsContainer = document.getElementById("mainItemsContainer");
      const addMainItemBtn = document.getElementById("addMainItemBtn");

      // Keep track of main item boxes count (max 5)
      let mainItemCount = 0;

      function createMainItemBox() {
        if (mainItemCount >= 5) {
          alert("Maximum 5 main items allowed.");
          return;
        }
        mainItemCount++;

        const box = document.createElement("div");
        box.classList.add("slot-container", "main-item-box");

        const mainSelectLabel = document.createElement("label");
        mainSelectLabel.textContent = "Main Item:";
        box.appendChild(mainSelectLabel);

        const mainSelect = createItemSelect();
        box.appendChild(mainSelect);

        // Color Hue Input
        const hueLabel = document.createElement("label");
        hueLabel.textContent = "Color Hue (0-360):";
        box.appendChild(hueLabel);
        const hueInput = document.createElement("input");
        hueInput.type = "number";
        hueInput.min = 0;
        hueInput.max = 360;
        hueInput.value = 0;
        box.appendChild(hueInput);

        // Color Saturation Input
        const saturationLabel = document.createElement("label");
        saturationLabel.textContent = "Color Saturation (0-100):";
        box.appendChild(saturationLabel);
        const saturationInput = document.createElement("input");
        saturationInput.type = "number";
        saturationInput.min = 0;
        saturationInput.max = 100;
        saturationInput.value = 0;
        box.appendChild(saturationInput);

        // Scale Modifier Input
        const scaleLabel = document.createElement("label");
        scaleLabel.textContent = "Scale Modifier (decimal):";
        box.appendChild(scaleLabel);
        const scaleInput = document.createElement("input");
        scaleInput.type = "number";
        scaleInput.step = "0.01";
        scaleInput.value = 0;
        box.appendChild(scaleInput);

        // Ammo Input
        const ammoLabel = document.createElement("label");
        ammoLabel.textContent = "Ammo (integer):";
        box.appendChild(ammoLabel);
        const ammoInput = document.createElement("input");
        ammoInput.type = "number";
        ammoInput.min = 0;
        ammoInput.value = 0;
        box.appendChild(ammoInput);

        // Container for children items
        const childrenContainer = document.createElement("div");
        childrenContainer.classList.add("child-block");
        box.appendChild(childrenContainer);

        // Add Child Button
        const addChildBtn = document.createElement("button");
        addChildBtn.textContent = "+ Add Child Item";
        box.appendChild(addChildBtn);

        addChildBtn.addEventListener("click", () => {
          if (childrenContainer.childElementCount >= 5) {
            alert("Max 5 child items per main item.");
            return;
          }
          const childDiv = createChildItemDiv();
          childrenContainer.appendChild(childDiv);
        });

        // Remove button for main item box
        const removeMainBtn = document.createElement("button");
        removeMainBtn.textContent = "Remove Main Item";
        removeMainBtn.classList.add("remove-btn");
        box.appendChild(removeMainBtn);

        removeMainBtn.addEventListener("click", () => {
          mainItemsContainer.removeChild(box);
          mainItemCount--;
        });

        // Save references to inputs for easy access
        box.mainSelect = mainSelect;
        box.hueInput = hueInput;
        box.saturationInput = saturationInput;
        box.scaleInput = scaleInput;
        box.ammoInput = ammoInput;
        box.childrenContainer = childrenContainer;

        mainItemsContainer.appendChild(box);
      }

      function createChildItemDiv() {
        const div = document.createElement("div");
        div.classList.add("child-item");

        const childSelect = createItemSelect();
        div.appendChild(childSelect);

        // Child Color Hue
        const hueInput = document.createElement("input");
        hueInput.type = "number";
        hueInput.min = 0;
        hueInput.max = 360;
        hueInput.value = 0;
        div.appendChild(hueInput);

        // Child Color Saturation
        const satInput = document.createElement("input");
        satInput.type = "number";
        satInput.min = 0;
        satInput.max = 100;
        satInput.value = 0;
        div.appendChild(satInput);

        // Child Scale Modifier
        const scaleInput = document.createElement("input");
        scaleInput.type = "number";
        scaleInput.step = "0.01";
        scaleInput.value = 0;
        div.appendChild(scaleInput);

        // Child Ammo
        const ammoInput = document.createElement("input");
        ammoInput.type = "number";
        ammoInput.min = 0;
        ammoInput.value = 0;
        div.appendChild(ammoInput);

        // Remove button for child
        const removeChildBtn = document.createElement("button");
        removeChildBtn.textContent = "Remove Child";
        removeChildBtn.classList.add("remove-btn");
        div.appendChild(removeChildBtn);

        removeChildBtn.addEventListener("click", () => {
          div.parentElement.removeChild(div);
        });

        return div;
      }

      addMainItemBtn.addEventListener("click", createMainItemBox);

      // JSON generator function
      function generateJSON() {
        const objectsArray = [];

        const mainBoxes = mainItemsContainer.querySelectorAll('.main-item-box');
        mainBoxes.forEach(mainBox => {
          const mainItemKey = mainBox.mainSelect.value;
          if (mainItemKey === "None") return;

          const colorHue = Number(mainBox.hueInput.value) || 0;
          const colorSaturation = Number(mainBox.saturationInput.value) || 0;
          const scaleModifier = Number(mainBox.scaleInput.value) || 0;
          const ammo = Number(mainBox.ammoInput.value) || 0;

          const children = [];
          const childDivs = mainBox.childrenContainer.querySelectorAll('.child-item');
          childDivs.forEach(childDiv => {
            const childSelect = childDiv.querySelector('select');
            const childHueInput = childDiv.querySelector('input[type="number"]:nth-of-type(1)');
            const childSatInput = childDiv.querySelector('input[type="number"]:nth-of-type(2)');
            const childScaleInput = childDiv.querySelector('input[type="number"]:nth-of-type(3)');
            const childAmmoInput = childDiv.querySelector('input[type="number"]:nth-of-type(4)');

            if (!childSelect || childSelect.value === "None") return;

            children.push({
              itemId: childSelect.value,
              colorHue: Number(childHueInput.value) || 0,
              colorSaturation: Number(childSatInput.value) || 0,
              scaleModifier: Number(childScaleInput.value) || 0,
              ammo: Number(childAmmoInput.value) || 0,
            });
          });

          const valueObj = {
            colorHue,
            colorSaturation,
            scaleModifier,
            ammo,
            children: children.map(c => ({
              itemId: c.itemId,
              colorHue: c.colorHue,
              colorSaturation: c.colorSaturation,
              scaleModifier: c.scaleModifier,
              ammo: c.ammo,
            })),
          };

          objectsArray.push({
            collection: "itemslots",
            key: mainItemKey,
            permissions: {
              read: true,
              write: true,
            },
            value: JSON.stringify(valueObj),
          });
        });

        const finalJSON = { objects: objectsArray };

        const jsonOutput = document.getElementById('jsonOutput');
        jsonOutput.textContent = JSON.stringify(finalJSON, null, 2);
      }
    </script>
  </body>
</html>
