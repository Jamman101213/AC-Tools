<!DOCTYPE html>
<html>
  <head>
    <meta name="google-adsense-account" content="ca-pub-6213603518465024">
    <!-- Place this inside the <head> tag -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6213603518465024"
      crossorigin="anonymous"></script>
    <link rel="icon" href="https://cdn.glitch.global/d52a6415-826b-4b02-82db-e300df7a8506/Logo?v=1747925805307" type="image/png" />
    <title>Animal Company Item Maker Stash</title>

    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        padding: 20px;
        background: linear-gradient(135deg, #f9ece3, #f0d8c0);
        color: #6b4c3b;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .dark-mode {
        background: linear-gradient(135deg, #5c4438, #8a6e5a);
        color: #f0e5d8;
      }

      .dark-mode input,
      .dark-mode select,
      .dark-mode textarea {
        background-color: #7a6450;
        color: #f0e5d8;
        border: 1px solid #c9ad8e;
      }

      h1, h3 {
        font-weight: 700;
        letter-spacing: 1.2px;
        color: #a67856;
        text-shadow: 1px 1px 3px rgba(167, 120, 86, 0.6);
      }

      .dark-mode h1,
      .dark-mode h3 {
        color: #e9d7c1;
        text-shadow: 1px 1px 4px #b28e6a;
      }

      .slot-container {
        border: 2px solid #cbb092;
        padding: 18px;
        margin-bottom: 22px;
        background-color: #fff6ee;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(203, 176, 146, 0.25);
        transition: background-color 0.3s ease, border-color 0.3s ease;
      }

      .dark-mode .slot-container {
        background-color: #7a6450;
        border-color: #bfa77a;
        box-shadow: 0 0 15px #d4c1a788;
      }

      label {
        display: block;
        margin: 10px 0 6px;
        color: inherit;
        font-weight: 600;
      }

      input,
      select {
        padding: 8px 10px;
        width: 100%;
        max-width: 320px;
        margin-bottom: 8px;
        border: 1.5px solid #bfa77a;
        border-radius: 6px;
        font-size: 14px;
        transition: border-color 0.2s ease;
      }

      input:focus,
      select:focus {
        border-color: #a67856;
        outline: none;
      }

      textarea {
        width: 100%;
        height: 280px;
        padding: 12px;
        font-family: monospace;
        font-size: 14px;
        border: 1.5px solid #bfa77a;
        border-radius: 6px;
        background-color: #fff2e6;
        color: #6b4c3b;
        resize: vertical;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .dark-mode textarea {
        background-color: #7a6450;
        color: #e9d7c1;
      }

      button {
        padding: 10px 18px;
        margin-right: 12px;
        margin-top: 14px;
        cursor: pointer;
        background-color: #a67856;
        color: #fff;
        border: none;
        border-radius: 6px;
        font-weight: 700;
        box-shadow: 0 4px 8px rgba(166, 120, 86, 0.4);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
      }

      button:hover {
        background-color: #7a5633;
        box-shadow: 0 6px 12px rgba(122, 86, 51, 0.6);
      }

      .remove-btn {
        background-color: #d26b4d;
        box-shadow: 0 3px 7px rgba(210, 107, 77, 0.5);
      }

      .remove-btn:hover {
        background-color: #a34c37;
        box-shadow: 0 5px 11px rgba(163, 76, 55, 0.7);
      }

      .color-preview {
        display: inline-block;
        width: 26px;
        height: 26px;
        border: 1.5px solid #a67856;
        margin-left: 12px;
        vertical-align: middle;
        border-radius: 6px;
        box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
        transition: border-color 0.3s ease;
      }

      #modeToggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: #a67856;
        box-shadow: 0 3px 8px rgba(166, 120, 86, 0.6);
      }

      #modeToggle:hover {
        background-color: #7a5633;
        box-shadow: 0 5px 12px rgba(122, 86, 51, 0.8);
      }

      .child-block {
        border-left: 3px solid #bfa77a;
        padding-left: 18px;
        margin-top: 14px;
        transition: border-color 0.3s ease;
      }

      .dark-mode .child-block {
        border-color: #e9d7c1;
      }
    </style>

<h2>Inventory Builder</h2>

<div id="mainItemsContainer"></div>
<button id="addMainItemBtn">+ Add Main Item (max 5)</button>

<button style="width: 100%; margin-top: 15px;" onclick="generateJSON()">Generate JSON</button>

<h3>Generated JSON:</h3>
<pre id="jsonOutput"></pre>

<script>
  const itemIDs = [
    "None",
    "item_anti_gravity_grenade",
    "item_apple",
    "item_arrow",
    "item_arrow_heart",
    "item_arrow_lightbulb",
    "item_backpack",
    "item_backpack_black",
    "item_backpack_green",
    "item_backpack_large_base",
    "item_backpack_large_basketball",
    "item_backpack_large_clover",
    "item_backpack_pink",
    "item_backpack_small_base",
    "item_backpack_white",
    "item_backpack_with_flashlight",
    "item_balloon",
    "item_balloon_heart",
    "item_banana",
    "item_baseball_bat",
    "item_big_cup",
    "item_boombox",
    "item_boombox_neon",
    "item_box_fan",
    "item_calculator",
    "item_cardboard_box",
    "item_cash",
    "item_cash_mega_pile",
    "item_cash_pile",
    "item_clapper",
    "item_cluster_grenade",
    "item_cola",
    "item_cola_large",
    "item_company_ration",
    "item_company_ration_heal",
    "item_cracker",
    "item_crate",
    "item_crossbow",
    "item_crossbow_heart",
    "item_crowbar",
    "item_disc",
    "item_disposable_camera",
    "item_dynamite",
    "item_dynamite_cube",
    "item_egg",
    "item_flaregun",
    "item_flashbang",
    "item_flashlight",
    "item_flashlight_mega",
    "item_flashlight_red",
    "item_floppy3",
    "item_floppy5",
    "item_football",
    "item_frying_pan",
    "item_glowstick",
    "item_goldbar",
    "item_grenade",
    "item_heart_chunk",
    "item_heart_gun",
    "item_heartchocolatebox",
    "item_hh_key",
    "item_hookshot",
    "item_hoverpad",
    "item_impulse_grenade",
    "item_jetpack",
    "item_keycard",
    "item_lance",
    "item_large_banana",
    "item_mug",
    "item_nut",
    "item_ogre_hands",
    "item_ore_copper_l",
    "item_ore_copper_m",
    "item_ore_copper_s",
    "item_ore_gold_l",
    "item_ore_gold_m",
    "item_ore_gold_s",
    "item_ore_hell",
    "item_ore_silver_l",
    "item_ore_silver_m",
    "item_ore_silver_s",
    "item_painting_canvas",
    "item_paperpack",
    "item_pelican_case",
    "item_pickaxe",
    "item_pickaxe_cny",
    "item_pickaxe_cube",
    "item_pipe",
    "item_pinata_bat",
    "item_plunger",
    "item_pogostick",
    "item_police_baton",
    "item_pumpkin_pie",
    "item_pumpkinjack",
    "item_pumpkinjack_small",
    "item_quiver",
    "item_quiver_heart",
    "item_radioactive_broccoli",
    "item_randombox_mobloot_big",
    "item_randombox_mobloot_medium",
    "item_randombox_mobloot_small",
    "item_randombox_mobloot_weapons",
    "item_revolver",
    "item_revolver_ammo",
    "item_revolver_gold",
    "item_rope",
    "item_rpg",
    "item_rpg_ammo",
    "item_rpg_ammo_egg",
    "item_rpg_cny",
    "item_rpg_easter",
    "item_rubberducky",
    "item_ruby",
    "item_saddle",
    "item_scanner",
    "item_scissors",
    "item_shield",
    "item_shield_bones",
    "item_shield_police",
    "item_shotgun",
    "item_shotgun_ammo",
    "item_shredder",
    "item_shrinking_broccoli",
    "item_snowball",
    "item_stapler",
    "item_stick_armbones",
    "item_stick_bone",
    "item_sticker_dispenser",
    "item_sticky_dynamite",
    "item_stinky_cheese",
    "item_tablet",
    "item_tapedispenser",
    "item_tele_grenade",
    "item_theremin",
    "item_timebomb",
    "item_toilet_paper",
    "item_toilet_paper_mega",
    "item_toilet_paper_roll_empty",
    "item_treestick",
    "item_tripwire_explosive",
    "item_trophy",
    "item_turkey_leg",
    "item_turkey_whole",
    "item_umbrella",
    "item_umbrella_clover",
    "item_unidentified",
    "item_upsidedown_loot",
    "item_uranium_chunk_l",
    "item_uranium_chunk_m",
    "item_uranium_chunk_s",
    "item_whoopie",
    "item_zipline_gun"
  ];

  const mainItemsContainer = document.getElementById('mainItemsContainer');
  const addMainItemBtn = document.getElementById('addMainItemBtn');

  function createItemSelect() {
    const select = document.createElement('select');
    itemIDs.forEach(item => {
      if(item !== "None"){
        const option = document.createElement('option');
        option.value = item;
        option.textContent = item;
        select.appendChild(option);
      }
    });
    return select;
  }

  // Creates a small labeled number input
  function createNumberInput(labelText, defaultValue = 0, min = 0, max = 360) {
    const container = document.createElement('div');
    container.className = 'item-properties';

    const label = document.createElement('label');
    label.textContent = labelText;

    const input = document.createElement('input');
    input.type = 'number';
    input.value = defaultValue;
    input.min = min;
    input.max = max;

    container.appendChild(label);
    container.appendChild(input);

    return { container, input };
  }

  function createMainItemBox() {
    const box = document.createElement('div');
    box.className = 'main-item-box';

    // Main item select + remove main item button
    const mainLabel = document.createElement('label');
    mainLabel.textContent = 'Choose Main Item:';
    const mainSelect = createItemSelect();

    const removeMainBtn = document.createElement('button');
    removeMainBtn.textContent = 'Remove Main Item';
    removeMainBtn.className = 'remove-btn';
    removeMainBtn.type = "button";

    removeMainBtn.addEventListener('click', () => {
      mainItemsContainer.removeChild(box);
      updateAddMainItemBtn();
    });

    // Properties inputs for main item
    const mainProps = document.createElement('div');
    mainProps.className = 'item-properties-container';

    const hueInput = createNumberInput('colorHue', 0, 0, 360);
    const saturationInput = createNumberInput('colorSaturation', 0, 0, 100);
    const scaleInput = createNumberInput('scaleModifier', 0, -10, 10);
    const ammoInput = createNumberInput('ammo', 0, 0, 999999);

    mainProps.appendChild(hueInput.container);
    mainProps.appendChild(saturationInput.container);
    mainProps.appendChild(scaleInput.container);
    mainProps.appendChild(ammoInput.container);

    // Children container + add child button
    const childrenTitle = document.createElement('h4');
    childrenTitle.textContent = 'Children Items:';

    const childrenContainer = document.createElement('div');

    const addChildBtn = document.createElement('button');
    addChildBtn.textContent = '+ Add Child Item';
    addChildBtn.type = "button";
    addChildBtn.style.marginBottom = '20px';

    addChildBtn.addEventListener('click', () => {
      const childDiv = document.createElement('div');
      childDiv.className = 'child-item';

      const childSelect = createItemSelect();

      // Child properties inputs
      const childHueInput = createNumberInput('colorHue', 0, 0, 360);
      const childSaturationInput = createNumberInput('colorSaturation', 0, 0, 100);
      const childScaleInput = createNumberInput('scaleModifier', 0, -10, 10);
      const childAmmoInput = createNumberInput('ammo', 0, 0, 999999);

      // Remove child button
      const removeChildBtn = document.createElement('button');
      removeChildBtn.textContent = 'Remove Child Item';
      removeChildBtn.className = 'remove-btn';
      removeChildBtn.type = "button";

      removeChildBtn.addEventListener('click', () => {
        childrenContainer.removeChild(childDiv);
      });

      childDiv.appendChild(childSelect);
      childDiv.appendChild(childHueInput.container);
      childDiv.appendChild(childSaturationInput.container);
      childDiv.appendChild(childScaleInput.container);
      childDiv.appendChild(childAmmoInput.container);
      childDiv.appendChild(removeChildBtn);

      childrenContainer.appendChild(childDiv);
    });

    box.appendChild(mainLabel);
    box.appendChild(mainSelect);
    box.appendChild(mainProps);
    box.appendChild(childrenTitle);
    box.appendChild(childrenContainer);
    box.appendChild(addChildBtn);
    box.appendChild(removeMainBtn);

    return {
      box,
      mainSelect,
      hueInput: hueInput.input,
      saturationInput: saturationInput.input,
      scaleInput: scaleInput.input,
      ammoInput: ammoInput.input,
      childrenContainer,
    };
  }

  function updateAddMainItemBtn() {
    addMainItemBtn.disabled = mainItemsContainer.children.length >= 5;
  }

  addMainItemBtn.addEventListener('click', () => {
    const { box } = createMainItemBox();
    mainItemsContainer.appendChild(box);
    updateAddMainItemBtn();
  });

  <script>
  // Your existing code above...

  function getItemData(container) {
    const itemID = container.querySelector(".item-id").value;
    if (itemID === "None") return null;

    const item = { itemID };
    const hue = parseFloat(container.querySelector(".hue").value);
    const sat = parseFloat(container.querySelector(".saturation").value);
    const state = parseFloat(container.querySelector(".state").value);
    const ammo = parseFloat(container.querySelector(".ammo").value);
    const scale = parseFloat(container.querySelector(".scale").value);
    if (!isNaN(hue) && hue !== 0) item.colorHue = hue;
    if (!isNaN(sat) && sat !== 0) item.colorSaturation = sat;
    if (!isNaN(state) && state !== 0) item.state = state;
    if (!isNaN(ammo) && ammo !== 0) item.ammo = ammo;
    if (!isNaN(scale) && scale !== 0) item.scaleModifier = scale;

    const childrenContainers = container.querySelector(".children-container").children;
    const children = [];
    for (const childContainer of childrenContainers) {
      const childData = getItemData(childContainer);
      if (childData) children.push(childData);
    }
    if (children.length > 0) {
      item.children = children;
    }
    return item;
  }

  function generateJSON() {
    const objects = [];
    const slotEditors = document.getElementById("slotEditors").children;
    for (const slotEditor of slotEditors) {
      const itemData = getItemData(slotEditor);
      if (!itemData) continue;

      // Use slot name as key and structure as required:
      const slotName = slots[Array.from(slotEditors).indexOf(slotEditor)];
      // According to your "right json format", wrap item data inside a "value" key as a JSON string, keep key & collection etc.
      const obj = {
        collection: "items",
        key: slotName,
        permissions: { read: ["public"] },
        value: JSON.stringify(itemData)
      };
      objects.push(obj);
    }

    const finalJSON = { objects };
    document.getElementById("jsonOutput").value = JSON.stringify(finalJSON, null, 2);
  }

  // On load, create editors for slots
  window.onload = () => {
    const container = document.getElementById("slotEditors");
    slots.forEach(() => container.appendChild(createItemEditor()));
  };

    document.getElementById('jsonOutput').textContent = JSON.stringify(result, null, 2);
  }
</script>
